---
layout: default
---

{% assign issue_data = site.data.weekly_issues | where: "slug", page.slug | first %}
{% assign sorted_issues = site.data.weekly_issues | sort: "number" %}

{% assign prev_issue = nil %}
{% assign next_issue = nil %}
{% assign current_number = issue_data.number %}

{% for issue in sorted_issues %}
  {% if issue.number == current_number %}
    {% assign current_found = true %}
  {% elsif issue.number < current_number %}
    {% assign prev_issue = issue %}
  {% elsif issue.number > current_number and next_issue == nil %}
    {% assign next_issue = issue %}
  {% endif %}
{% endfor %}

<style>
    .issue-header-with-nav {
        display: flex;
        justify-content: space-between;
        align-items: center;
        position: relative;
        z-index: 1;
        min-height: 80px; /* Ensure minimum height for button positioning */
    }
    
    .nav-buttons {
        display: none; /* Hidden on desktop */
        gap: 15px;
        align-items: center;
    }
    
    .nav-button-left {
        position: absolute;
        left: 0;
        z-index: 10;
        pointer-events: auto;
    }
    
    .nav-button-right {
        position: absolute;
        right: 0;
        z-index: 10;
        pointer-events: auto;
    }
    
    .issue-header {
        text-align: center;
        flex: 1;
        pointer-events: none; /* Prevent header from blocking clicks on nav buttons */
    }
    
    .issue-header h1 {
        pointer-events: auto; /* Re-enable pointer events for the header text itself */
    }
    
    /* Mobile responsive navigation */
    @media (max-width: 768px) {
        .issue-header-with-nav {
            flex-direction: column;
            gap: 20px;
        }
        
        .nav-button-left,
        .nav-button-right {
            display: none !important; /* Hide desktop nav buttons */
        }
        
        .nav-buttons {
            display: flex !important; /* Show mobile nav buttons */
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            order: -1; /* Put navigation above header on mobile */
        }
    }
    
    /* Very small screens */
    @media (max-width: 480px) {
        .nav-buttons {
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }
    }
</style>

<div class="content">
    <!-- Issue Header with Navigation -->
    <div class="issue-header-with-nav">
        {% if prev_issue %}
        <div class="nav-button-left">
            <a href="{{ '/weekly/' | append: prev_issue.slug | append: '.html' | relative_url }}" 
               style="display: inline-block; padding: 12px 24px; background: var(--ink-blue); color: white; text-decoration: none; border-radius: 10px; font-family: 'Caveat', cursive; font-size: 1.2rem; transform: rotate(0.5deg);">
                <span data-lang="en">← Vol.{{ prev_issue.number }}</span>
                <span data-lang="ja" style="display: none;">← 第{{ prev_issue.number }}号</span>
            </a>
        </div>
        {% endif %}
        
        <div class="issue-header">
            <h1 style="font-family: 'Caveat', cursive; font-size: 3.5rem; color: var(--marker-red); margin-bottom: 10px; transform: rotate(-1deg); pointer-events: auto;">
                <span data-lang="en">AfterAI Weekly Vol.{{ issue_data.number }} 📚</span>
                <span data-lang="ja" style="display: none;">AfterAI Weekly 第{{ issue_data.number }}号 📚</span>
            </h1>
        </div>
        
        {% if next_issue %}
        <div class="nav-button-right">
            <a href="{{ '/weekly/' | append: next_issue.slug | append: '.html' | relative_url }}" 
               style="display: inline-block; padding: 12px 24px; background: var(--marker-red); color: white; text-decoration: none; border-radius: 10px; font-family: 'Caveat', cursive; font-size: 1.2rem; transform: rotate(-0.5deg);">
                <span data-lang="en">Vol.{{ next_issue.number }} →</span>
                <span data-lang="ja" style="display: none;">第{{ next_issue.number }}号 →</span>
            </a>
        </div>
        {% endif %}
        
        <!-- Mobile navigation - only visible on small screens -->
        <div class="nav-buttons" style="display: none;">
            {% if prev_issue %}
            <a href="{{ '/weekly/' | append: prev_issue.slug | append: '.html' | relative_url }}" 
               style="display: inline-block; padding: 12px 24px; background: var(--ink-blue); color: white; text-decoration: none; border-radius: 10px; font-family: 'Caveat', cursive; font-size: 1.2rem; transform: rotate(0.5deg);">
                <span data-lang="en">← Vol.{{ prev_issue.number }}</span>
                <span data-lang="ja" style="display: none;">← 第{{ prev_issue.number }}号</span>
            </a>
            {% endif %}
            
            {% if next_issue %}
            <a href="{{ '/weekly/' | append: next_issue.slug | append: '.html' | relative_url }}" 
               style="display: inline-block; padding: 12px 24px; background: var(--marker-red); color: white; text-decoration: none; border-radius: 10px; font-family: 'Caveat', cursive; font-size: 1.2rem; transform: rotate(-0.5deg);">
                <span data-lang="en">Vol.{{ next_issue.number }} →</span>
                <span data-lang="ja" style="display: none;">第{{ next_issue.number }}号 →</span>
            </a>
            {% endif %}
        </div>
    </div>

    <!-- Substack Banner -->
    <div style="text-align: center; padding: 20px; margin: 30px auto; max-width: 650px; background: linear-gradient(135deg, rgba(255,107,107,0.15) 0%, rgba(255,193,7,0.15) 100%); border: 3px dashed var(--marker-red); border-radius: 20px; transform: rotate(0.3deg); box-shadow: 4px 4px 0px rgba(0,0,0,0.1);">
        <h3 style="font-family: 'Caveat', cursive; font-size: 1.8rem; color: var(--sketch-brown); margin-bottom: 12px; transform: rotate(-0.5deg);">
            <span data-lang="en">💌 Enjoying this? Subscribe on Substack!</span>
            <span data-lang="ja" style="display: none;">💌 楽しんでいますか？Substackで購読を！</span>
        </h3>
        <div data-lang="en">
            <p style="font-size: 1rem; margin-bottom: 15px; color: var(--ink-blue);">
                Get new issues delivered directly to your inbox and support AfterAI Weekly!
            </p>
        </div>
        <div data-lang="ja" style="display: none;">
            <p style="font-size: 1rem; margin-bottom: 15px; color: var(--ink-blue);">
                メールで購読して、AfterAI Weeklyを応援してください！
            </p>
        </div>
        <a href="https://afteraiweekly.substack.com" target="_blank" rel="noopener noreferrer" 
           style="display: inline-block; padding: 12px 28px; background: var(--marker-red); color: white; text-decoration: none; border-radius: 12px; font-family: 'Caveat', cursive; font-size: 1.3rem; transform: rotate(-1deg); box-shadow: 3px 3px 0px rgba(0,0,0,0.2); transition: all 0.3s ease;">
            <span data-lang="en">Go to Substack →</span>
            <span data-lang="ja" style="display: none;">Substackへ →</span>
        </a>
    </div>

    <!-- Main Content -->
    <div style="display: flex; flex-direction: column; align-items: center; gap: 30px;">
        
        <!-- English Version -->
        <div data-lang="en" style="max-width: 800px; width: 100%;">
            <div class="issue-content" style="padding: 30px;">
                <a href="{{ '/img/weekly/en/' | append: issue_data.slug | append: '-en.jpg' | relative_url }}" target="_self">
                    <img src="{{ '/img/weekly/en/' | append: issue_data.slug | append: '-en.jpg' | relative_url }}" 
                         alt="AfterAI Weekly Vol.{{ issue_data.number }} English"
                         loading="lazy"
                         style="width: 100%; height: auto; border-radius: 10px; box-shadow: 3px 3px 10px rgba(0,0,0,0.2); cursor: pointer;">
                </a>
                
            </div>
        </div>

        <!-- Japanese Version -->
        <div data-lang="ja" style="max-width: 800px; width: 100%; display: none;">
            <div class="issue-content" style="padding: 30px;">
                <a href="{{ '/img/weekly/ja/' | append: issue_data.slug | append: '-ja.jpg' | relative_url }}" target="_self">
                    <img src="{{ '/img/weekly/ja/' | append: issue_data.slug | append: '-ja.jpg' | relative_url }}" 
                         alt="AfterAI Weekly Vol.{{ issue_data.number }} Japanese"
                         loading="lazy"
                         style="width: 100%; height: auto; border-radius: 10px; box-shadow: 3px 3px 10px rgba(0,0,0,0.2); cursor: pointer;">
                </a>
            </div>
        </div>
    </div>

    <!-- Subscribe CTA removed -->
</div>
